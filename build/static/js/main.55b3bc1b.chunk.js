(this["webpackJsonpproject-flashcards"]=this["webpackJsonpproject-flashcards"]||[]).push([[0],{36:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(19),s=c.n(r),i=c(4),d=c(6),o=c(2),l=c(3),b=c.n(l),j=c(7),u=c(21),h=["cards"],m=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL||"http://localhost:5000",O=new Headers;function x(e){e.cards;return Object(u.a)(e,h)}function p(e,t,c){return f.apply(this,arguments)}function f(){return(f=Object(j.a)(b.a.mark((function e(t,c,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,c);case 3:if(!((a=e.sent).status<200||a.status>399)){e.next=6;break}throw new Error("".concat(a.status," - ").concat(a.statusText));case 6:if(204!==a.status){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,a.json();case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(0),"AbortError"===e.t0.name){e.next=18;break}throw console.error(e.t0.stack),e.t0;case 18:return e.abrupt("return",Promise.resolve(n));case 19:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function v(){return(v=Object(j.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(m,"/decks?_embed=cards"),e.next=3,p(c,{signal:t},[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(j.a)(b.a.mark((function e(t,c){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/decks"),a={method:"POST",headers:O,body:JSON.stringify(x(t)),signal:c},e.next=4,p(n,a,{});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(b.a.mark((function e(t,c){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/decks/").concat(t,"?_embed=cards"),e.next=3,p(n,{signal:c},{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(j.a)(b.a.mark((function e(t,c){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/decks/").concat(t.id,"?_embed=cards"),a={method:"PUT",headers:O,body:JSON.stringify(x(t)),signal:c},e.next=4,p(n,a,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return S.apply(this,arguments)}function S(){return(S=Object(j.a)(b.a.mark((function e(t,c){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/decks/").concat(t),a={method:"DELETE",signal:c},e.next=4,p(n,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(j.a)(b.a.mark((function e(t,c,n){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(m,"/cards"),c.deckId=Number(t),r={method:"POST",headers:O,body:JSON.stringify(c),signal:n},e.next=5,p(a,r,c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(j.a)(b.a.mark((function e(t,c){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/cards/").concat(t),e.next=3,p(n,{signal:c},{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return I.apply(this,arguments)}function I(){return(I=Object(j.a)(b.a.mark((function e(t,c){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/cards/").concat(t.id),a={method:"PUT",headers:O,body:JSON.stringify(t)},e.next=4,p(n,a,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(j.a)(b.a.mark((function e(t,c){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/cards/").concat(t),a={method:"DELETE",signal:c},e.next=4,p(n,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O.append("Content-Type","application/json");var H=c(0);var _=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1];function r(){(function(e){return v.apply(this,arguments)})().then(a)}Object(n.useEffect)(r,[]);var s=c.map((function(e){return Object(H.jsxs)("li",{className:"border list-group-item list-group-item-action flex-column align-items-start",children:[Object(H.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(H.jsx)("h3",{className:"mb-1",children:e.name}),Object(H.jsxs)("small",{children:[e.cards.length," cards"]})]}),Object(H.jsx)("p",{className:"mb-1",children:e.description}),Object(H.jsxs)("div",{className:"btn-group",children:[Object(H.jsxs)(o.b,{to:"decks/".concat(e.id),className:"btn btn-secondary",children:[Object(H.jsx)("span",{}),"View"]}),Object(H.jsxs)(o.b,{to:"decks/".concat(e.id,"/study"),className:"btn btn-primary",children:[Object(H.jsx)("span",{}),"Study"]}),Object(H.jsx)(o.b,{to:"",className:"btn btn-danger float-right",id:e.id,onClick:function(){return t=e.id,void(window.confirm("Do you really want to delete this?")&&w(t).then(r));var t},children:Object(H.jsx)("span",{className:"oi oi-trash"})})]})]},e.id)}));return Object(H.jsxs)("div",{children:[Object(H.jsxs)(o.b,{to:"/decks/new",className:"btn btn-secondary",children:[Object(H.jsx)("span",{className:"oi oi-plus"})," Create Deck"]}),Object(H.jsx)("ul",{className:"list-group mt-2 deck-list",children:s})]})};var F=function(){return Object(H.jsx)("div",{children:Object(H.jsx)("div",{className:"Home container",children:Object(H.jsx)(i.b,{path:"/DeckList",children:Object(H.jsx)(_,{})})})})};var P=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(d.a)(r,2),l=s[0],b=s[1],j=Object(i.h)().deckId;Object(n.useEffect)((function(){k(j).then((function(e){a(e),b(e.cards)}))}),[j]);var u=Object(n.useState)("front"),h=Object(d.a)(u,2),m=h[0],O=h[1],x=Object(n.useState)(0),p=Object(d.a)(x,2),f=p[0],v=p[1],N=Object(i.g)();return l.length>2?Object(H.jsxs)("div",{className:"container",children:[Object(H.jsx)("nav",{"aria-label":"breadcrumb",children:Object(H.jsxs)("ol",{className:"breadcrumb",children:[Object(H.jsx)("li",{className:"breadcrumb-item",children:Object(H.jsxs)(o.b,{to:"/",children:[Object(H.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(H.jsx)("li",{className:"breadcrumb-item","aria-current":"page",children:c.name}),Object(H.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Study"})]})}),Object(H.jsx)("div",{children:Object(H.jsxs)("h2",{children:["Study: ",c.name]})}),Object(H.jsx)("div",{children:Object(H.jsx)("div",{className:"card-container",children:Object(H.jsxs)("div",{className:"card-body border",children:[Object(H.jsxs)("h4",{children:["Card ",f+1," of ",l.length]}),Object(H.jsx)("p",{children:c.cards[f][m]}),Object(H.jsx)("button",{className:"btn btn-secondary",onClick:function(){O("front"===m?"back":"front")},children:"Flip"}),"back"===m&&Object(H.jsx)("button",{className:"btn btn-secondary",onClick:function(){f+1<c.cards.length?(v(f+1),O("front")):window.confirm("Reset cards?\n\nPress cancel to return home.")?(v(0),O("front")):N.push("/")},children:"Next"})]})})})]}):Object(H.jsxs)("div",{children:[Object(H.jsx)("nav",{"aria-label":"breadcrumb",children:Object(H.jsxs)("ol",{className:"breadcrumb",children:[Object(H.jsx)("li",{className:"breadcrumb-item",children:Object(H.jsxs)(o.b,{to:"/",children:[Object(H.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(H.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:c.name})]})}),Object(H.jsx)("h2",{children:"Not enough cards."}),Object(H.jsx)("p",{children:"You need at least 3 cards to study."}),Object(H.jsx)(o.b,{to:"/decks/:deckId/cards/new",className:"btn btn-primary",children:"+ Add Card"})]})};var A=function(){return Object(H.jsxs)("div",{className:"NotFound",children:[Object(H.jsx)("h1",{children:"Not Found"}),Object(H.jsx)("br",{}),Object(H.jsx)(o.b,{to:"/",children:"Return Home"})]})};var B=function(){return Object(H.jsx)("header",{className:"jumbotron bg-dark",children:Object(H.jsxs)("div",{className:"container text-white",children:[Object(H.jsx)("h1",{className:"display-4",children:"Flashcard-o-matic"}),Object(H.jsx)("p",{className:"lead",children:"Discover The Flashcard Difference."})]})})},L=c(12),R=c(13);var J=function(e){var t=e.onSubmit,c=e.onCancel,a=e.initialState,r=void 0===a?{name:"",description:""}:a,s=Object(n.useState)(r),i=Object(d.a)(s,2),o=i[0],l=i[1];function b(e){var t=e.target,c=t.name,n=t.value;l((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(L.a)({},c,n))}))}return console.log("initialSTate:",r),console.log("this is a deck:",o),Object(H.jsx)("div",{children:Object(H.jsx)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),t(o)},className:"deck-edit",children:Object(H.jsxs)("fieldset",{children:[Object(H.jsxs)("div",{className:"form-group",children:[Object(H.jsx)("label",{htmlFor:"name",children:"Name"}),Object(H.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",value:o&&o.name,required:!0,placeholder:"Deck Name",onChange:b})]}),Object(H.jsxs)("div",{className:"form-group",children:[Object(H.jsx)("label",{htmlFor:"description",children:"Description"}),Object(H.jsx)("textarea",{id:"description",name:"description",className:"form-control",rows:"4",required:!0,placeholder:"Brief description of the deck",value:o&&o.description,onChange:b})]}),Object(H.jsx)("button",{className:"btn btn-secondary mr-2",type:"button",onClick:c,children:"Cancel"}),Object(H.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]})})})};var U=function(){var e=Object(n.useState)({name:"",description:""}),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(i.g)(),s=Object(i.h)().deckId;console.log("deck in edit:",c),Object(n.useEffect)((function(){k(s).then(a)}),[s]);var l=c.id?Object(H.jsx)(J,{onCancel:function(){r.goBack()},onSubmit:function(e){(function(e,t){return y.apply(this,arguments)})(e).then((function(){r.push("/decks/".concat(s))}))},initialState:c}):Object(H.jsx)("p",{children:"Loading..."});return Object(H.jsxs)("div",{children:[Object(H.jsx)("nav",{"aria-label":"breadcrumb",children:Object(H.jsxs)("ol",{className:"breadcrumb",children:[Object(H.jsx)("li",{className:"breadcrumb-item",children:Object(H.jsxs)(o.b,{to:"/",children:[Object(H.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(H.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Edit Deck"})]})}),Object(H.jsx)("h1",{children:"Edit Deck"}),l]})};var q=function(e){var t=e.deck,c=e.onCardDelete,n=t.cards,a=(void 0===n?[]:n).map((function(e){return Object(H.jsx)("li",{className:"list-group-item list-group-item-action flex-column align-items-start",children:Object(H.jsxs)("div",{className:"row",children:[Object(H.jsx)("div",{className:"col-md-10",children:Object(H.jsxs)("div",{className:"row",children:[Object(H.jsx)("div",{className:"col",children:e.front}),Object(H.jsx)("div",{className:"col",children:e.back})]})}),Object(H.jsxs)("div",{className:"col text-right",children:[Object(H.jsxs)(o.b,{to:"/decks/".concat(t.id,"/cards/").concat(e.id,"/edit"),className:"btn btn-secondary mr-2",title:"Edit Card",children:[Object(H.jsx)("span",{className:"oi oi-pencil"})," Edit"]}),Object(H.jsx)("button",{className:"btn btn-danger",title:"Delete Card",children:Object(H.jsx)("span",{className:"oi oi-trash",onClick:function(){return c(e.id)}})})]})]})},e.id)}));return Object(H.jsxs)("div",{className:"mt-4 card-list",children:[Object(H.jsx)("h3",{children:"Cards"}),Object(H.jsx)("ul",{className:"list-group",children:a})]})};var K=function(){var e=Object(i.g)(),t=Object(i.h)().deckId,c=Object(n.useState)({cards:[]}),a=Object(d.a)(c,2),r=a[0],s=a[1];function l(){k(t).then(s)}return Object(n.useEffect)(l,[t]),Object(H.jsxs)("main",{className:"container deck-view",children:[Object(H.jsx)("nav",{"aria-label":"breadcrumb",children:Object(H.jsxs)("ol",{className:"breadcrumb",children:[Object(H.jsx)("li",{className:"breadcrumb-item",children:Object(H.jsxs)(o.b,{to:"/",children:[Object(H.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(H.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:r.name})]})}),Object(H.jsx)("div",{className:"media mb-2",children:Object(H.jsxs)("div",{className:"media-body",children:[Object(H.jsx)("h5",{className:"mt-0",children:r.name}),r.description]})}),Object(H.jsxs)(o.b,{to:"/decks/".concat(r.id,"/edit"),className:"btn btn-secondary mr-2",title:"Edit deck",children:[Object(H.jsx)("span",{className:"oi oi-pencil"})," Edit"]}),Object(H.jsxs)(o.b,{to:"/decks/".concat(r.id,"/study"),className:"btn btn-primary mr-2",title:"Study deck",children:[Object(H.jsx)("span",{className:"oi oi-book"})," Study"]}),Object(H.jsxs)(o.b,{to:"/decks/".concat(r.id,"/cards/new"),className:"btn btn-primary",title:"Add Card",children:[Object(H.jsx)("span",{className:"oi oi-plus"})," Add Card"]}),Object(H.jsx)("button",{className:"btn btn-danger float-right",title:"Delete deck",children:Object(H.jsx)("span",{className:"oi oi-trash",onClick:function(){window.confirm("Do you really want to delete this?\n\nYou will not be able to recover it.")&&w(r.id).then((function(){return e.push("/decks")}))}})}),Object(H.jsx)(q,{deck:r,onCardDelete:function(e){var t=window.confirm("Do you really want to delete this?\n\nYou will not be able to recover it..");t&&(console.log("deleteCardHandler",t,e),function(e,t){return T.apply(this,arguments)}(e).then(l))}})]})};var W=function(e){var t=e.onSubmit,c=e.initialState,a=void 0===c?{front:"",back:""}:c,r=Object(i.g)(),s=Object(i.h)().deckId,l=Object(n.useState)(a),b=Object(d.a)(l,2),j=b[0],u=b[1],h=Object(n.useState)({name:"",description:""}),m=Object(d.a)(h,2),O=m[0],x=m[1];function p(e){var t=e.target,c=t.name,n=t.value;u((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(L.a)({},c,n))}))}return Object(n.useEffect)((function(){k(s).then(x)}),[s]),Object(H.jsxs)("div",{children:[Object(H.jsx)("nav",{"aria-label":"breadcrumb",children:Object(H.jsxs)("ol",{className:"breadcrumb",children:[Object(H.jsx)("li",{className:"breadcrumb-item",children:Object(H.jsxs)(o.b,{to:"/",children:[Object(H.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(H.jsx)("li",{className:"breadcrumb-item",children:O.name}),Object(H.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Add Card"})]})}),Object(H.jsxs)("h2",{children:[O.name,": Add Card"]}),Object(H.jsx)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),t(j)},className:"deck-edit",children:Object(H.jsxs)("fieldset",{children:[Object(H.jsxs)("div",{className:"form-group",children:[Object(H.jsx)("label",{htmlFor:"name",children:"Front"}),Object(H.jsx)("textarea",{type:"text",id:"name",name:"front",className:"form-control",rows:"2",required:!0,value:j.front,placeholder:"Front of card",onChange:p})]}),Object(H.jsxs)("div",{className:"form-group",children:[Object(H.jsx)("label",{htmlFor:"description",children:"Back"}),Object(H.jsx)("textarea",{id:"description",name:"back",className:"form-control",rows:"2",required:!0,placeholder:"Back of card",value:j.back,onChange:p})]}),Object(H.jsx)("button",{className:"btn btn-secondary mr-2",type:"button",onClick:function(){r.goBack()},children:"Cancel"}),Object(H.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Save"})]})})]})};var Y=function(){var e=Object(i.g)(),t=Object(i.h)(),c=t.deckId,a=t.cardId,r=Object(n.useState)(),s=Object(d.a)(r,2),o=s[0],l=s[1];function u(){return(u=Object(j.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(n).then((function(){e.push("/decks/".concat(c))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){(function(e,t){return E.apply(this,arguments)})(a).then(l)}),[a]);var h=o?Object(H.jsx)(W,{onSubmit:function(e){return u.apply(this,arguments)},initialState:o}):Object(H.jsx)("p",{children:"Loading..."});return Object(H.jsxs)("div",{children:[Object(H.jsx)("h2",{children:"Edit Card"}),h]})};var V=function(){var e=Object(i.g)(),t=Object(i.h)().deckId;return Object(H.jsxs)("div",{children:[Object(H.jsx)("nav",{"aria-label":"breadcrumb",children:Object(H.jsxs)("ol",{className:"breadcrumb",children:[Object(H.jsx)("li",{className:"breadcrumb-item",children:Object(H.jsxs)(o.b,{to:"/",children:[Object(H.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(H.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create Deck"})]})}),Object(H.jsx)("h1",{children:"Create Card"}),Object(H.jsx)(W,{onCancel:function(){e.goBack()},onSubmit:function(c){console.log("card:",c),function(e,t,c){return C.apply(this,arguments)}(t,c).then((function(c){e.push("/decks/".concat(t))}))}})]})};var M=function(){var e=Object(i.g)();return Object(H.jsxs)("div",{children:[Object(H.jsx)("nav",{"aria-label":"breadcrumb",children:Object(H.jsxs)("ol",{className:"breadcrumb",children:[Object(H.jsx)("li",{className:"breadcrumb-item",children:Object(H.jsxs)(o.b,{to:"/",children:[Object(H.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(H.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create Deck"})]})}),Object(H.jsx)("h1",{children:"Create Deck"}),Object(H.jsx)(J,{onCancel:function(){e.goBack()},onSubmit:function(t){(function(e,t){return N.apply(this,arguments)})(t).then((function(t){return e.push("/decks/".concat(t.id))}))}})]})};var z=function(){return Object(H.jsxs)("div",{children:[Object(H.jsx)(B,{}),Object(H.jsx)("div",{className:"container",children:Object(H.jsxs)(i.d,{children:[Object(H.jsx)(i.b,{path:"/decks/new",children:Object(H.jsx)(M,{})}),Object(H.jsx)(i.b,{path:"/decks/:deckId/study",children:Object(H.jsx)(P,{})}),Object(H.jsx)(i.b,{path:"/decks/:deckId/edit",children:Object(H.jsx)(U,{})}),Object(H.jsx)(i.b,{path:"/decks/:deckId/cards/new",children:Object(H.jsx)(V,{})}),Object(H.jsx)(i.b,{path:"/decks/:deckId/cards/:cardId/edit",children:Object(H.jsx)(Y,{})}),Object(H.jsx)(i.b,{exact:!0,path:"/decks/:deckId",children:Object(H.jsx)(K,{})}),Object(H.jsx)(i.b,{exact:!0,path:"/decks",children:Object(H.jsx)(i.a,{to:"/"})}),Object(H.jsx)(i.b,{exact:!0,path:"/",children:Object(H.jsx)(F,{})}),Object(H.jsx)(i.b,{children:Object(H.jsx)(A,{})})]})})]})};var G=function(){return Object(H.jsx)("div",{className:"app-routes",children:Object(H.jsx)(i.d,{children:Object(H.jsx)(i.b,{path:"/",children:Object(H.jsx)(z,{})})})})};s.a.render(Object(H.jsx)(a.a.StrictMode,{children:Object(H.jsx)(o.a,{children:Object(H.jsx)(G,{})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.55b3bc1b.chunk.js.map